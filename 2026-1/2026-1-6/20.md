---
title: "Valid-Parenthesis"
question_id: "20"
question_link: "https://leetcode.com/problems/valid-parentheses/"
difficulty: "Easy"
---

1. Given a string `s` containing only the following characters '(', ')', '{', '}', '[' and ']'

2. Output boolean `true` or `false`

3. An input string is valid if:

Open brackets must be closed by the same type of brackets.
Open brackets must be closed in the correct order.
Every close bracket has a corresponding open bracket of the same type.

We are able to check if everything is valid because the parentheses must always appear as a pair. So if we remove all matching pairs until there is nothing left then we can check if the list is empty. If it is then we know that everything is valid if not then it will be false. This is a brute force method and would cause O(n^2) time complexity however.


```python
class Solution(object):
    def isValid(self, s):
        """
        :type s: str
        :rtype: bool
        """
        while "()" in s or "{}" in s or "[]" in s:
            s = s.replace("()", "")
            s = s.replace("[]", "")
            s = s.replace("{}", "")
        return s == ""
```

> Time Complexity : `O(n^2)`
> 
> Space Complexity : `O(n)`

The other way of thinking of this question is with a stack, a valid parentheses will follow a last-opened, first-closed order very similar to how a stack of plates work. So we first check the closed bracket at the end of the list and then check for the very first closed version of that bracket and then remove it, if it doesn't match or the stack is empty then the string is invalid. But if the string ends with a empty stack then its true.

```python
class Solution(object):
    def isValid(self, s):
        """
        :type s: str
        :rtype: bool
        """
        stack = []
        closeOpen = {")" : "(", "]" : "[", "}" : "{"}

        for closed in s:
            if closed in closeOpen:
                if stack and stack[-1] == closeOpen[closed]:
                    stack.pop()
                else:
                    return False
            else: 
                stack.append(closed)
        
        return True if not stack else False
```

> Time Complexity : `O(n)`
> 
> Space Complexity : `O(n)`