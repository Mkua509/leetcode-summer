---
title: "Product of Array Except Self"
question_id: "238"
question_link: "https://leetcode.com/problems/product-of-array-except-self/description/"
difficulty: "Medium"
---

1. Given an integer array nums 
2. Return an array answer such that answer[i] is equal to product of all elements of nums except nums[i]

We can't simply divide the question by total product because the array might have zeros and we can't used division. So we have to use prefix and suffix, we are able to complete it in two passes.

We first do the prefix pass from left to right:

We build an array where each index stores the product of all elements to the left of it.

e.g.
nums = [1, 2, 3, 4]
prefix = [1, 1, 2, 6]

Where the multiplication is lagging behind by one

Then we do the right pass:

We now multiply each position by the product of all elements on the right so we essentially lag behind by one once again.
Once we reach the end it we be basically result[i] = (product of left) * (product of right)



```python
class Solution(object):
    def productExceptSelf(self, nums):
        """
        :type nums: List[int]
        :rtype: List[int]
        """
        
        # Given an interger array nums
        # Return an output where output[i] is the product of all the elemnts num except nums[i]

        result = [1] * len(nums)

        prefix = 1

        for i in range(len(nums)):
            result[i] = prefix
            prefix *= nums[i]
        
        postfix = 1
        # Start from the end value - 1 in steps of 3 all the way to 0
        for i in range(len(nums) - 1, -1, -1):
            result[i] *= postfix
            postfix *= nums[i]
        
        return result
```

> Time Complexity : `O(n)`
> 
> Space Complexity : `O(1)`