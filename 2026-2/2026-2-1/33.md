---
title: "Search-In-Rotated-Sorted-Array"
question_id: "33"
question_link: "https://leetcode.com/problems/search-in-rotated-sorted-array/description/"
difficulty: "Medium"
---

1. Input is a integer array sorted in ascending order (Distinct values)

Before being passed through function the numbers list is possibly left rotated at an unknown index

2. Given the array `nums` after the possible rotation and an integer target, return the index of `target` if it is in list or `-1` if not.

It must be in O(log n) so it must be binary search.

The concept is essentially the same as yesterday, the only difference is that we must first find a pivot by using binary search, this pivot is essentially the index of the smallest element which tells us where the array is rotated

We then run a second binary search by using the pivot to determine which half of the array will contain the target, this is relatively easy to decipher now that we know the smallest value in the array. 

```python
class Solution(object):
    def search(self, nums, target):
        """
        :type nums: List[int]
        :type target: int
        :rtype: int
        """
        left, right = 0, len(nums) - 1

        while left < right:
            middle = (left + right) // 2
            if nums[middle] > nums[right]:
                left = middle + 1
            else:
                right = middle
        
        pivot = left
        left, right = 0, len(nums) - 1

        if target >= nums[pivot] and target <= nums[right]:
            left = pivot
        else:
            right = pivot - 1
        
        while left <= right:
            middle = (left + right) // 2
            if nums[middle] == target:
                return middle
            elif nums[middle] < target:
                left = middle + 1
            else: 
                right = middle - 1
        
        return -1
    
```

> Time Complexity : `O(log n)`
> 
> Space Complexity : `O(1)`