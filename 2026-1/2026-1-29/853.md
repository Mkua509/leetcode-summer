---
title: "Car-Fleet"
question_id: "853"
question_link: "https://leetcode.com/problems/car-fleet/description/"
difficulty: "Medium"
---

1. The input of Car Fleet is two integer arrays `position` and `speed`, both of length `n` where `position[i]` is the starting mile of the `ith` car and `speed[i]` is the speed of the `ith` car in miles per hour

2. The output is the amount of car fleets that will arrive at the destination

- A car fleet is a single car or a group of cars driving next to each other. The speed of the car fleet is the minimum speed of any car in the fleet 

- A car cannot pass another car, but it can catch up and then travel next to it at the speed of the slower car

- If a car catches up to a car fleet at the mile `target`, it will still be considered as part of the car fleet

Okay the answer requires us to consider a few things one of the main things is that we should consider this as a line of one way traffic if a faster car reaches the car before it it will essentially stop existing and we can count it as a singular fleet because the speed now need to match. So this means if we consider in a line we should always start with the cars that are closer to the target and work our way down, because if we didn't do this it would create unnecessary steps increasing overall time complexity.

For each car we can compute the time it takes to reach the target value by using (target - current) / speed if the time taken to reach the target is less then or equal to the car in front we can consider it dissolved. 

This means we are actually able to use a stack to fully complete this question because we can place the time taken for the specific car into the fleet and compare it with the next item in the stack and pop the value if the conditions are met where it becomes a fleet.

All we then have to do at the end is just return the length of the stack

This would be done in O(n log n) time because we must sort the list from descending order first and we create a extra list thus it is a O(n) space.


```python
class Solution(object):
    def carFleet(self, target, position, speed):
        """
        :type target: int
        :type position: List[int]
        :type speed: List[int]
        :rtype: int
        """
        pair = [[p, s] for p,s in zip(position, speed)]
        
        stack_result = []
        for p, s in sorted(pair)[::-1]: # Reverse the sorted order
            stack_result.append(float(target - p) / s)
            if len(stack_result) >= 2 and stack_result[-1] <= stack_result[-2]:
                stack_result.pop()
        

        return len(stack_result)  
```

> Time Complexity : `O(n log n)`
> 
> Space Complexity : `O(n)`